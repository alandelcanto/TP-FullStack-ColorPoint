<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Editar Producto</title>
    <link rel="stylesheet" href="/css/header.css" />
    <link rel="stylesheet" href="/css/navbar.css" />
    <link rel="stylesheet" href="/css/crearProducto.css" />
    <link rel="icon" href="/assets/favicon.png" type="image/png" />
</head>

<body>
    <%- include('./partials/header') %>
        <%- include('./partials/navbar') %>
            <h1>Editar Producto</h1>

            <form class="create-product-form" action="/editar-producto/<%= producto.id %>?_method=PUT" method="POST"
                enctype="multipart/form-data">
                <div>
                    <label for="nombre">Nombre:</label>
                    <input type="text" id="nombre" name="nombre" value="<%= producto.nombre %>" required />
                </div>

                <div>
                    <label for="precio">Precio:</label>
                    <input type="number" id="precio" name="precio" min="0" step="0.01" value="<%= producto.precio %>"
                        required />
                </div>

                <div>
                    <label for="descripcion">Descripci√≥n:</label>
                    <textarea id="descripcion" name="descripcion" rows="3"><%= producto.descripcion %></textarea>
                </div>

                <div>
                    <label for="color_material">Color / Material:</label>
                    <input type="text" id="color_material" name="color_material"
                        value="<%= producto.color_material %>" />
                </div>

                <div>
                    <label for="tipo">Tipo:</label>
                    <select id="tipo" name="tipo" required>
                        <option value="">Seleccione tipo</option>
                        <option value="pintura" <%=producto.tipo==='pintura' ? 'selected' : '' %>>Pintura</option>
                        <option value="herramienta" <%=producto.tipo==='herramienta' ? 'selected' : '' %>>Herramienta
                        </option>
                    </select>
                </div>

                <div>
                    <label for="img">Imagen actual:</label><br>
                    <% if (imagen) { %>
                        <img src="/<%= imagen %>" alt="<%= producto.nombre %>" width="150" /><br>
                        <% } else { %>
                            <p>No hay imagen</p>
                            <% } %>
                </div>

                <div>
                    <label for="img">Subir nueva imagen (opcional):</label>
                    <input type="file" id="img" name="img" accept="image/*" />
                </div>

                <button type="submit">Actualizar Producto</button>
            </form>
</body>

</html>